:root{--bg: #0f172a;--text: #e5e7eb;--muted: #94a3b8;--accent: #6366f1}*{box-sizing:border-box}html,body{height:100%}body{margin:0;min-height:100vh;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";background:radial-gradient(1000px 600px at 10% -10%,#1f2937 0%,var(--bg) 50%,var(--bg) 100%);color:var(--text)}.btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid rgba(255,255,255,.18);background:#ffffff0f;color:var(--text);padding:10px 12px;border-radius:8px;cursor:pointer;font:inherit;text-align:center;transition:background .12s ease,border-color .12s ease,box-shadow .12s ease,filter .12s ease}.btn:hover{background:#ffffff1f}.btn:focus{outline:2px solid rgba(255,255,255,.3);outline-offset:2px}.btn-primary{background:var(--accent);border-color:#ffffff38;color:#fff;box-shadow:0 6px 20px #00000040}.btn-primary:hover{filter:brightness(1.05)}.btn[disabled],.icon-btn[disabled]{opacity:.5;cursor:not-allowed}.icon-btn{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid rgba(255,255,255,.18);background:#ffffff0f;color:var(--text);padding:8px;border-radius:8px;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;transition:background .12s ease,border-color .12s ease,filter .12s ease}.icon-btn svg{width:18px;height:18px;display:block;fill:#ffffffb3}.icon-btn:hover{background:#ffffff1f}.icon-btn.active{background:var(--accent);border-color:#ffffff38}.icon-btn.active svg{fill:#fff}.overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#00000073;display:none;align-items:center;justify-content:center;z-index:50}.overlay.show{display:flex}.modal{position:relative;width:min(560px,90vw);background:#111827f2;border:1px solid rgba(255,255,255,.12);border-radius:12px;padding:16px;box-shadow:0 20px 50px #00000073}.modal .close-btn{position:absolute;top:8px;right:12px;background:transparent;border:none;color:var(--text);font-size:22px;line-height:1;cursor:pointer;padding:4px}.modal .close-btn:hover{color:#fff}.modal h3{margin:0 0 12px;color:var(--text);font-size:16px}.modal .row{display:flex;gap:8px;align-items:center;margin-bottom:10px}.modal .field{display:flex;gap:8px}.modal input[type=text]{flex:1;padding:10px 12px;border-radius:8px;border:1px solid rgba(255,255,255,.18);background:#ffffff0f;color:var(--text);font:inherit}.modal .actions{margin-top:12px;display:flex;gap:8px;justify-content:flex-end}.modal textarea#generate-preview{margin-top:10px}.modal textarea#generate-preview{width:100%;min-height:180px;padding:10px 12px;border-radius:8px;border:1px solid rgba(255,255,255,.18);background:#ffffff0f;color:var(--text);font:16px/1.4 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;resize:vertical}#prompt-suggestions{display:flex;gap:6px;flex-wrap:wrap;margin-top:6px}.chip{padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.18);background:#ffffff0f;color:var(--text);cursor:pointer;font:inherit}.chip:hover{background:#ffffff1f}#prompt-autocomplete{position:absolute;z-index:60;background:#111827fa;border:1px solid rgba(255,255,255,.12);border-radius:8px;padding:6px;list-style:none;margin:4px 0 0;display:none;max-height:180px;overflow-y:auto;min-width:220px}#prompt-autocomplete.show{display:block}#prompt-autocomplete li{padding:6px 8px;border-radius:6px;cursor:pointer;color:var(--text)}#prompt-autocomplete li:hover{background:#ffffff14}.app{display:flex;align-items:flex-start;gap:24px;padding:16px 16px 16px 8px;width:100%;margin:0;box-sizing:border-box;min-height:100vh}.sidebar{width:280px;padding:16px;background:#ffffff29;border:1px solid rgba(255,255,255,.28);border-radius:12px;box-shadow:0 6px 20px #00000059;position:relative;z-index:1;align-self:center;margin-left:32px}.panel{background:#111827cc;border:1px solid rgba(255,255,255,.08);border-radius:10px;padding:12px}.panel+.panel{margin-top:12px}.sidebar .panel{width:100%}.panel-title{margin:0 0 12px;font-size:18px;color:var(--text)}.control-group{margin-bottom:12px}.control-group label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}.control-group input[type=range],.control-group input[type=number],.control-group input[type=text],.control-group select{width:100%}.inline-add-row{display:flex;gap:8px;align-items:center;width:100%}.inline-add-actions{margin-top:8px;display:flex}.inline-add-row input[type=text]{flex:1;padding:10px 12px;border-radius:8px;border:1px solid rgba(255,255,255,.18);background:#ffffff0f;color:var(--text);font:inherit;min-width:0}.content-images{display:flex;flex-direction:column;gap:8px}.content-images [data-asset-type]{display:block;border-radius:8px;border:1px solid rgba(255,255,255,.12);cursor:grab;-webkit-user-select:none;user-select:none;transition:border-color .12s ease,box-shadow .12s ease,transform .12s ease}.content-images img[data-asset-type=image]{width:100%;height:auto;display:block;border-radius:8px}.content-images .content-text[data-asset-type=text]{padding:12px;background:#ffffff0f;color:var(--text);font:600 18px ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}.content-images .content-video[data-asset-type=video] video{width:100%;height:auto;display:block;border-radius:8px}.content-images img,.content-images video{-webkit-user-drag:element;-webkit-user-select:none;user-select:none}.content-images [data-asset-type]:hover{border-color:#ffffff59;box-shadow:0 0 0 2px #ffffff42 inset,0 8px 24px #0000004d;transform:translateY(-1px)}.content-images [data-asset-type]:active{cursor:grabbing}body.is-dragging-asset{cursor:grabbing!important}canvas.drag-target{outline:2px dashed rgba(255,255,255,.35);outline-offset:4px}#top-controls{display:flex;justify-content:center;width:auto;position:fixed;top:48px;left:50%;transform:translate(-50%);z-index:2;margin-bottom:0}#canvas-size-group{display:flex;flex-direction:row;gap:8px}#canvas-size-group button{justify-content:center}#grid-toggle-floating{position:fixed;z-index:3}#grid-toggle-floating .icon-btn+.icon-btn{margin-left:8px}.stage{flex:1;min-width:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:calc(100vh - 32px);position:relative;z-index:0}canvas{background:#fff;border:1px solid rgba(255,255,255,.1);border-radius:0;box-shadow:0 10px 30px #00000059;display:block}@media (max-width: 800px){.app{flex-direction:column;align-items:stretch}.sidebar{width:100%}canvas{height:60vh}}#canvas-text-editor{position:fixed;z-index:10;background:transparent;color:#111827;border:1px dashed rgba(79,70,229,.6);border-radius:6px;padding:2px 4px;outline:none;resize:none;overflow:hidden;white-space:pre-wrap;caret-color:var(--accent);animation:caretGlow 1.2s ease-in-out infinite;box-sizing:border-box;display:none}#canvas-text-editor::selection{background:#4f46e547;color:#111827}#canvas-text-editor::-moz-selection{background:#4f46e547;color:#111827}@keyframes caretGlow{0%{box-shadow:0 0 #4f46e500}50%{box-shadow:0 0 0 3px #4f46e540}to{box-shadow:0 0 #4f46e500}}#context-menu{position:fixed;left:0;top:0;display:none;z-index:10;padding:8px;gap:0;min-width:260px;background:#111827f5;border:1px solid rgba(255,255,255,.08);border-radius:12px;flex-direction:column;align-items:stretch;box-shadow:0 12px 30px #00000059;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}#context-menu.show,#context-menu[aria-hidden=false]{display:flex}#context-menu .item{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;background:transparent;color:var(--text);border-radius:8px;padding:12px;display:flex;align-items:center;gap:10px;cursor:pointer;width:100%;font-size:18px}#context-menu .item:hover{background:#ffffff14}#context-menu .item.disabled{opacity:.5;cursor:default;pointer-events:none}#context-menu .item .icon svg{width:18px;height:18px;display:block;fill:#ffffffd9}#context-menu .item.group-start{margin-top:6px;padding-top:14px;border-top:1px solid rgba(255,255,255,.08)}
